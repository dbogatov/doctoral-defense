% cSpell:ignore ORAMs

\section{Work in the Area}

	\subsection{Property-Preserving Encryption}

		\begin{frame}{Survey of OPE/ORE schemes~\cite{ore-benchmark-17}}

			\begin{columns}[T,onlytextwidth]
				\column{0.5\textwidth}

					\begin{block}{The problem}

						\begin{itemize}
							\item Many different solutions
							\item Performance / security tradeoff
							\item Heterogeneous security definitions and leakage profiles
							\item \textbf{Performance of the schemes not well-understood}
							\begin{itemize}
								\item Some were not even implemented
								\item Prototype implementation at best
								\item Not benchmarked against one another
								\item Use different primitive implementations
							\end{itemize}
						\end{itemize}

					\end{block}

				\column{0.5\textwidth}

					\onslide<2->{
						\begin{block}{Our solution}

							\begin{itemize}
								\item Analyzed security and leakages of the constructions under a common framework
								\item Analyzed theoretically performance of the constructions
								\item \textbf{Implemented and run experiments}
								\begin{itemize}
									\item Implemented 5 OPE / ORE schemes and 5 range query protocols
									\item Used same language, framework and primitive implementations
									\item Benchmarked primitives execution times
									\item Counted primitives and I/O usage
								\end{itemize}
							\end{itemize}

						\end{block}
					}

			\end{columns}

		\end{frame}

		\begin{frame}{Survey of OPE/ORE schemes~\cite{ore-benchmark-17}}

			\begin{columns}[T,onlytextwidth]
				\column{0.4\textwidth}

					\begin{block}{OPE/ORE schemes + leakage}

						\begin{itemize}
							\item \normalsize BCLO~\cite{crypt-db-ope} \\ \small{$\approx$ top half of the bits}
							\item \normalsize CLWW~\cite{practical-ore} \\ \small{most-significant differing bit}
							\item \normalsize Lewi-Wu~\cite{lewi-ore} \\ \small{most-significant differing block}
							\item \normalsize CLOZ~\cite{adam-ore-v2} \\ \small{equality pattern of most-significant differing bit}
							\item \normalsize FH-OPE~\cite{fh-ope} \\ \small{insertion order}
						\end{itemize}

					\end{block}

				\column{0.6\textwidth}

					\begin{block}{Range query protocols + leakage (on top of result size)}

						\begin{itemize}
							\item \normalsize {\BPlus} tree with ORE \\ \small{same as underlying ORE}
							\item \normalsize Kerschbaum~\cite{florian-protocol} \\ \small{total order}
							\item \normalsize POPE~\cite{pope} \\ \small{partial order}
							\item \normalsize Logarithmic-BRC~\cite{practical-range-search} \\ \small{same as underlying SSE}
							\item \normalsize ORAM with {\BPlus} tree \\ \small{fully hiding}
						\end{itemize}

					\end{block}

			\end{columns}

		\end{frame}

		\begin{frame}{CryptDB~\cite{crypt-db}}

			\begin{columns}[T,onlytextwidth]
				\column{0.6\textwidth}

					\begin{block}{CryptDB design and contributions}

						\begin{itemize}
							\item Regular SQL API for applications
							\item Proxy between app and server rewrites queries
							\item Encryption depending on operations
							\begin{small}
								\begin{itemize}
									\item \algo{DET} for equality
									\item \algo{OPE} for comparison
									\item \algo{HE} for aggregates
									\item \algo{RND} if not used
								\end{itemize}
							\end{small}
							\item Records encrypted in onion layers
							\item Column key derives from user password
						\end{itemize}

					\end{block}

				\column{0.4\textwidth}

					\begin{block}{Issues}

						\begin{itemize}
							\item Once onion level is removed, security degradation is permanent
							\item Leakage
							\begin{itemize}
								\item Order and histogram
								\item Access pattern
								\item Communication volume
							\end{itemize}
						\end{itemize}

					\end{block}

			\end{columns}

		\end{frame}

		\begin{frame}{Arx~\cite{arx}, PPQED~\cite{ppqed} and SisoSPIR~\cite{sisospir}}

			\begin{columns}[T,onlytextwidth]
				\column{0.5\textwidth}

					\begin{block}{Arx~\cite{arx}}

						\begin{itemize}
							\item A proxy between app and MongoDB
							\item Uses only semantically secure encryption
							\item Innovative range index with garbled circuits \\
							\begin{small} has to ``rebuild'' circuits \end{small}
							\item Equality index inspired by SSE
							\item Almost no leakage for snapshot adversary
							\item Requires schema and queries in advance
							\item \textbf{Leaks AP and CV}
						\end{itemize}

					\end{block}

				\column{0.5\textwidth}

					\onslide<2->{

						\begin{block}{PPQED~\cite{ppqed}}

							\begin{itemize}
								\item Securely evaluate DNF of predicates
								\item Two non-colluding servers, one has keys
								\item Uses garbled circuits or HE
								\item Slow, leaks CV and (apparently) AP
							\end{itemize}

						\end{block}

					}

					\onslide<3->{

						\begin{block}{SisoSPIR~\cite{sisospir}}

							\begin{itemize}
								\item Three parties, at most one corrupted
								\item {\BPlus} tree stored in ORAM layer-by-layer
								\item Neither party sees the exact search path
								\item Claim protection against CV and AP
							\end{itemize}

						\end{block}

					}

			\end{columns}

		\end{frame}

	\subsection{Access Pattern and/or Communication Volume}

		\begin{frame}{\crypte~\cite{crypte}}

			\begin{columns}[T,onlytextwidth]
				\column{0.5\textwidth}

					\begin{block}{\crypte~\cite{crypte} design and contributions}

						\begin{itemize}
							\item Executes entire ``DP programs'' \\
								\begin{small}
									transformations followed by the measurement
								\end{small}
							\item Non-colluding \emph{analyst} and \emph{crypto server}
							\item Crypto server
								\begin{small}
									\begin{itemize}
										\item decrypts
										\item keeps privacy budget $\epsilon$
										\item adds Laplacian noise
									\end{itemize}
								\end{small}
							\item Analyst processes transformations
								\begin{small}
									\begin{itemize}
										\item project
										\item cross product
										\item filter
									\end{itemize}
								\end{small}
							\item Experiments cover 7 ``heavy'' programs
						\end{itemize}

					\end{block}

				\column{0.5\textwidth}

					\begin{block}{Issues}

						\begin{itemize}
							\item Adversary can observe both servers
							\item Malicious server defense requires TEE
							\item Not clear about the privacy of an individual
							\item Cannot output the result of transformation, program must end with a measurement \\
								\begin{small}
									\texttt{COUNT} or \texttt{CDF} is OK, range query is not
								\end{small}
							\item Very slow \\
							\begin{small}
								typical program runs 3.6 hours even without network
							\end{small}
						\end{itemize}

					\end{block}

			\end{columns}

		\end{frame}

		\begin{frame}{Shrinkwrap~\cite{shrinkwrap}}

			\begin{columns}[T,onlytextwidth]
				\column{0.5\textwidth}

					\begin{block}{Shrinkwrap~\cite{shrinkwrap} design and contributions}

						\begin{itemize}
							\item \emph{Federated} SQL queries ($m$ owners)
							\item Pad and obliviously sort in circuit model \\
							\begin{small}
								\textbf{hides both AP and CV}
							\end{small}
							\item ``Shrink'' to DP-sized chunk
							\item Optimal privacy budget allocation
							\item Much faster than fully oblivious
						\end{itemize}

					\end{block}

				\column{0.5\textwidth}

					\begin{block}{Issues}

						\begin{itemize}
							\item $\bigO{n \log n}$ for $n$ fully padded
							\item Pad and obliviously sort in circuit model \\
								\begin{small}
									na\"\i{}ve and performance is subpar
								\end{small}
							\item Cannot run for $m > 2$ \\
								\begin{small}
									union-join across $m$ owners is infeasible
								\end{small}
							\item Takes hours per query on a local network
						\end{itemize}

					\end{block}

			\end{columns}

		\end{frame}

		\begin{frame}{SEAL~\cite{seal}, PINED-RQ~\cite{pined-rq} and Foundations of Differentially Oblivious Algorithms~\cite{differential-obliviousness}}

			\begin{columns}[T,onlytextwidth]
				\column{0.5\textwidth}

					\begin{block}{SEAL~\cite{seal}}

						\begin{itemize}
							\item \textbf{SE} \textbf{A}djustable \textbf{L}eakage to the bit-level % cspell:disable-line
							\item SE is based on Logarithmic-SRC-i~\cite{practical-range-search}
							\item Adjustable ORAM hides $\alpha$ bits of AP \\
								\begin{small}
									partition data into $\frac{n}{2^\alpha}$ ORAMs
								\end{small}
							\item Adjustable padding hides $x$ bits of CV \\
								\begin{small}
									pad to the closest power of $x$
								\end{small}
							\item New query protocols use SEAL as black-box
							\item Faster than scan, very slow in practice \\
								\begin{small}
									even though no I/Os, only RAM
								\end{small}
						\end{itemize}

					\end{block}

				\column{0.5\textwidth}

					\onslide<2->{

						\begin{block}{PINED-RQ~\cite{pined-rq}}

							\begin{itemize}
								\item \BPlus{} tree with already noisy records
								\item \alert{May end up dropping real records}
								\item Updates are limited and expensive
								\item Experimental evaluation is misleading
							\end{itemize}

						\end{block}

					}

					\onslide<3->{

						\begin{block}{Foundations of Differentially Oblivious Algorithms~\cite{differential-obliviousness}}

							\begin{itemize}
								\item New definition, algorithms and bounds
								\item AP itself is a DP-protected statistics
								\item Weaker than full obliviousness
							\end{itemize}

						\end{block}

					}

			\end{columns}

		\end{frame}

	\subsection{Trusted Execution Environment / Enclaves / SGX}

		\begin{frame}{Opaque~\cite{opaque} and ObliDB~\cite{oblidb}}

			\begin{columns}[T,onlytextwidth]
				\column{0.5\textwidth}

					\begin{block}{Opaque~\cite{opaque}}

						\begin{itemize}
							\item Distributed analytics on top of Spark \\
							\begin{small}
								supports filter, join, aggregation
							\end{small}
							\item \alert{Requires truly oblivious memory} \\
								\begin{small}
									does not exist
								\end{small}
							\item \emph{Encryption} mode: security and integrity \\
								\begin{small}
									most of it ``for free'' with SGX
								\end{small}
							\item \emph{Oblivious} mode: hiding AP \\
								\begin{small}
									sort with bitonic, linear scan
								\end{small}
							\item \emph{Padding} mode: not filter out dummies \\
								\begin{small}
									impractical
								\end{small}
						\end{itemize}

					\end{block}

				\column{0.5\textwidth}

					\onslide<2->{

						\begin{block}{ObliDB~\cite{oblidb}}

							\begin{itemize}
								\item \alert{Requires truly oblivious memory}
								\item Choice of \emph{flat} and \emph{indexed} storage
								\item \texttt{SELECT}
									\begin{itemize}
										\item \emph{na\"\i{}ve}: ORAM over two tables
										\item \emph{small}: load to oblivious buffer
										\item \emph{large}: duplicates table, scans obliviously
										\item \emph{continuous}: assumes table is sorted
										\item \emph{hash}: put row into $\algo{H}{i}$ position
									\end{itemize}
								\item \texttt{AGGREGATE}: running value in enclave
								\item \texttt{JOIN}
									\begin{itemize}
										\item \emph{hash join}: put hashes in enclave
										\item \emph{sort-merge join}: sort chunk in SGX, merge chunks with bitonic, filter with linear scan
									\end{itemize}
							\end{itemize}

						\end{block}

					}

			\end{columns}

		\end{frame}

		\begin{frame}{Cipherbase~\cite{cipherbase}, StealthDB~\cite{stealth-db}, EnclaveDB~\cite{enclave-db} and Hermetic~\cite{hermetic}}

			\begin{columns}[T,onlytextwidth]
				\column{0.5\textwidth}

					\onslide<1->{

						\begin{block}{Cipherbase~\cite{cipherbase}}

							\begin{itemize}
								\item Pre-SGX era, FPGA ``trusted machine''
								\item Primitive operators executed in TEE
								\item No experiments or analysis
							\end{itemize}

						\end{block}

					}

				\column{0.5\textwidth}

					\onslide<2->{

						\begin{block}{StealthDB~\cite{stealth-db}}

							\begin{itemize}
								\item SGX extension over PostgreSQL
								\item Bring components to SGX on-demand
								\item Implementation is great: loadable module
							\end{itemize}

						\end{block}

					}

			\end{columns}

			\vspace*{2ex}

			\begin{columns}[T,onlytextwidth]
				\column{0.5\textwidth}

					\onslide<3->{

						\begin{block}{EnclaveDB~\cite{enclave-db}}

							\begin{itemize}
								\item Mostly integrity and freshness guarantees
								\item No AP or CV protection, side-channels out of scope
								\item \alert{Assumes \SI{192}{\giga\byte} of truly oblivious memory}
								\item Ideas:
									\begin{itemize}
										\item put entire mini-OS in enclave
										\item compile queries to binaries
									\end{itemize}
								\item No SGX in experiments, poor simulation
							\end{itemize}

						\end{block}

					}

				\column{0.5\textwidth}

					\onslide<4->{

						\begin{block}{Hermetic~\cite{hermetic}}

							\begin{itemize}
								\item Set of primitives against side-channels
								\item Oblivious execution environment
									\begin{itemize}
										\item always runs to completion
										\item uses only cache lines
										\item data-oblivious
										\item no side-effects
									\end{itemize}
								\item \alert{Assumes only software attacks}
								\item Not published yet
							\end{itemize}

						\end{block}

					}

			\end{columns}

		\end{frame}

		\begin{frame}{Oblix~\cite{seal}, HybrIDX~\cite{hybr-idx} and HardIDX~\cite{hardidx}}

			\begin{columns}[T,onlytextwidth]
				\column{0.49\textwidth}

					\begin{block}{Oblix~\cite{seal}}

						\begin{itemize}
							\item ``Doubly-oblivious'' data structures
							\item Doubly-oblivious sorted multimap \\
								\begin{small}
									$r$ top values to hide CV
								\end{small}
							\item Doubly-oblivious PathORAM \\
								\begin{small}
									somewhat better than ZeroTrace~\cite{zerotrace}
								\end{small}
							\item Way to make ``tree-like'' structure oblivious
							\item Experiments only ``estimate'' performance of doubly-oblivious ORAM
						\end{itemize}

					\end{block}

				\column{0.02\textwidth}

				\column{0.49\textwidth}

					\onslide<2->{

						\begin{block}{HybrIDX~\cite{hybr-idx}}

							\begin{itemize}
								\item Range query index \alert{obfuscates} CV and AP
								\item \alert{Does not consider AP leakage inside SGX}
								\item CV is obfuscated with bucketization
								\item AP is obfuscated using cache
							\end{itemize}

						\end{block}

					}

					\onslide<3->{

						\begin{block}{HardIDX~\cite{hardidx}}

							\begin{itemize}
								\item \BPlus{} tree put directly in enclave
								\item \alert{AP and CV are not even considered}
							\end{itemize}

						\end{block}

					}

			\end{columns}

		\end{frame}

